# #######################################################################################
# MANGOWC CONFIG - Replicated from Hyprland configuration
# #######################################################################################

################
### MONITORS ###
################

# Format: monitorrule=name,mfact,nmaster,layout,transform,scale,x,y,width,height,refreshrate
monitorrule=eDP-1,0.55,1,tile,0,1,0,0,2240,1400,60
monitorrule=DP-3,0.55,1,tile,0,1,2240,0,3440,1400,60

#############################
### ENVIRONMENT VARIABLES ###
#############################

env=XCURSOR_SIZE,24

#####################
### LOOK AND FEEL ###
#####################

# Gaps (matching Hyprland gaps_in=1, gaps_out=1)
gappih=1
gappiv=1
gappoh=1
gappov=1

# Border (matching border_size=1)
borderpx=1

# Rounding (matching rounding=2)
border_radius=2

# Colors (matching col.active_border cyan, col.inactive_border gray)
focuscolor=0xff33ccff
bordercolor=0xaa595959

# Blur (matching enabled with size=3)
blur=1
blur_params_radius=3
blur_optimized=1

# Shadows
shadows=1
shadows_size=4

# Opacity
focus_opacity=1.0
unfocus_opacity=1.0

#############
### INPUT ###
#############

repeat_rate=60
repeat_delay=250
natural_scroll=0
trackpad_natural_scrolling=0
tap_and_drag=0
drag_lock=0
accel_speed=0.0
cursor_size=24

###################
### KEYBINDINGS ###
###################

# Core actions
bind=SUPER,q,killclient
bind=SUPER,m,quit
bind=SUPER,e,spawn,dolphin
bind=SUPER,v,togglefloating
bind=SUPER,r,spawn,wofi --show drun
bind=SUPER,space,spawn,wofi --show drun
bind=SUPER,f,togglefullscreen
bind=SUPER,l,spawn,hyprlock
bind=SUPER,b,spawn_shell,$HOME/.local/bin/toggle-mango-waybar.sh

# Scratchpad
bind=SUPER,s,toggle_scratchpad
bind=SUPER+SHIFT,s,move_to_scratchpad

# Move focus with SUPER + arrow keys
bind=SUPER,Left,focusdir,left
bind=SUPER,Right,focusdir,right
bind=SUPER,Up,focusdir,up
bind=SUPER,Down,focusdir,down

# Switch tags with SUPER + [0-9]
bind=SUPER,1,view,1
bind=SUPER,2,view,2
bind=SUPER,3,view,3
bind=SUPER,4,view,4
bind=SUPER,5,view,5
bind=SUPER,6,view,6
bind=SUPER,7,view,7
bind=SUPER,8,view,8
bind=SUPER,9,view,9
bind=SUPER,0,view,10

# Move active window to a tag with SUPER + SHIFT + [0-9]
bind=SUPER+SHIFT,1,tag,1
bind=SUPER+SHIFT,2,tag,2
bind=SUPER+SHIFT,3,tag,3
bind=SUPER+SHIFT,4,tag,4
bind=SUPER+SHIFT,5,tag,5
bind=SUPER+SHIFT,6,tag,6
bind=SUPER+SHIFT,7,tag,7
bind=SUPER+SHIFT,8,tag,8
bind=SUPER+SHIFT,9,tag,9
bind=SUPER+SHIFT,0,tag,10

# Layout toggle
bind=SUPER,j,setlayout,tile
bind=SUPER,p,setlayout,monocle

# Config reload
bind=SUPER+SHIFT,r,reload_config

###################
### MEDIA KEYS ###
###################

# Volume
bindl=NONE,XF86AudioRaiseVolume,spawn,wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
bindl=NONE,XF86AudioLowerVolume,spawn,wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindl=NONE,XF86AudioMute,spawn,wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindl=NONE,XF86AudioMicMute,spawn,wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle

# Brightness
bindl=NONE,XF86MonBrightnessUp,spawn,brightnessctl -e4 -n2 set 5%+
bindl=NONE,XF86MonBrightnessDown,spawn,brightnessctl -e4 -n2 set 5%-

# Media playback
bindl=NONE,XF86AudioPlay,spawn,playerctl play-pause
bindl=NONE,XF86AudioPause,spawn,playerctl play-pause
bindl=NONE,XF86AudioNext,spawn,playerctl next
bindl=NONE,XF86AudioPrev,spawn,playerctl previous

#####################
### MOUSE BINDINGS ###
#####################

mousebind=SUPER,btn_left,moveresize,curmove
mousebind=SUPER,btn_right,moveresize,curresize

#################
### TAG RULES ###
#################

tagrule=id:1,layout_name:tile
tagrule=id:2,layout_name:tile
tagrule=id:3,layout_name:tile
tagrule=id:4,layout_name:tile
tagrule=id:5,layout_name:tile
tagrule=id:6,layout_name:tile
tagrule=id:7,layout_name:tile
tagrule=id:8,layout_name:tile
tagrule=id:9,layout_name:tile
tagrule=id:10,layout_name:tile

####################
### WINDOW RULES ###
####################

windowrule=width:1200,height:900,appid:bambu-studio
windowrule=width:1200,height:900,appid:BambuStudio

#################
### AUTOSTART ###
#################

exec-once=kitty
exec-once=nm-applet
exec-once=blueman-applet
exec-once=gjs /usr/share/gnome-shell/extensions/gsconnect@andyholmes.github.io/service/daemon.js
exec-once=waybar -c ~/.config/waybar/config-mango.jsonc -s ~/.config/waybar/style-mango.css
exec-once=swaybg -i ~/wallpaper.png
exec-once=firefox
exec-once=batsignal -w 20 -c 10 -d 5

# Screen sharing support
exec-once=dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP=wlroots
